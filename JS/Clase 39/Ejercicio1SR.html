<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1>LISTADO DE PARTICIPANTES</h1>
                <table class="table table-dark table-sm">
                    <thead>
                        <tr>
                            <th>NUM</th>
                            <th>NUIP</th>
                            <th>NOMBRE</th>
                            <th>PUNTAJE</th>
                        </tr>
                    </thead>
                    <tbody id="aqui1">
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-12" style="text-align: center;">
            <input type="button" value="Iniciar llenado" onclick="imprimir();" class="btn btn-dark">
            </div>
        </div>




    <script>
        function imprimir() {
            let nuip = String(prompt("Ingrese el nuip del participante, para finalizar escriba FIN"));
            let vnuip = [];
            let vnombre = [];
            let vpuntaje = [];
            let valnuip = false;
            while ( nuip.toLowerCase() != "fin"){
                while (valnuip = false){
                    if (isNaN(nuip) === true){
                        if (nuip.tolowerCase() === "fin"){
                            valnuip = false;
                        }
                    } else if (nuip > 10000){
                        valnuip = false;
                    }
                    nuip = String(prompt("El nuip debe ser mayor a 10000, ingrese el nuip del participante, para finalizar escriba FIN"));
                }

                do {let nombre = String(prompt(`Ingrese el nombre de participante identificado con el nuip ${nuip}`));
                } while(nombre.length < 10);

                do {let puntaje = Number(prompt(`Ingrese el puntaje del participante entre 0 y 50`))
                } while(puntaje < 0 || puntaje >50);
                vnuip.push(nuip)
                vnombre.push(nombre)
                vpuntaje.push(puntaje.trunc())
                nuip = Number(prompt("Ingrese el nuip del siguiente participante, para finalizar escriba FIN"));
            }

            for (let i = 0; i < vnuip.length; i++) {
                for (let j = 1; j < (vnuip.length-1); j++){
                    let aux = 0;
                    if (vpuntaje[i] < vpuntaje[j]){
                        aux = vpuntaje[i];
                        vpuntaje[i] = vpuntaje[j];
                        vpuntaje[j] = aux;
                        aux = vnuip[i];
                        vnuip[i] = vnuip[j];
                        vnuip[j] = aux;
                        aux = vnombre[i];
                        vnombre[i] = vnombre[j];
                        vnombre[j] = aux;
                    }
                }
            }
            let str = ""
            for (let i = 0; i < vnuip.length; i++) {
            str += `<tr>
                <td>${(i+1)}</td>
                <td>${vnuip[i]}</td>
                <td>$${vnombre[i]}td>
                <td>$${vpuntaje[i]}</td>` 
            }
        
            document.getElementById("aqui1").innerHTML = str;
        }
        

    </script>
    <!--Js Bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> 
</body>
</html>